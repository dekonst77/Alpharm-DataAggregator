<div ng-controller="AlphaVisionController" cg-busy="dataLoading" ng-cloak class="auto-grid-parent base" ng-style="{'padding-top': topPartSize.height}">
    <script type="text/ng-template" id="_icon.html">
        <div>
            <img src="/Content/Icons/IsOther.png" class="img-rounded" />
        </div>
    </script>

    <div class="panel panel-default auto-item-top-part" auto-size-saver="topPartSize">
        <div class="panel-heading padding1">
            <div class="row">

                <div class="col-md-3 padding3">

                    <div class="btn-group" role="group" aria-label="Basic example">


                        <button class="btn btn-success btn-sm" type="button" data-toggle="modal" data-target="#CreateUserModal">Регистрация нового пользователя</button>
                        <!--<button class="btn btn-success btn-sm" type="button" ng-click="getKindList()" ng-disabled="Grid.selectedRows() == undefined || Grid.selectedRows().length == 1">Запретить доступ в API</button>-->

                    </div>

                </div>

                <div class="col-md-3 padding3">
                   
                </div>
            </div>

        </div>
    </div>

    <div id="grid-block" class="auto-item-panel">
        <ui-grid-control options="Grid.Options" class="ui-grid-enable-content-selection grid-block grid-block_sm"></ui-grid-control>
    </div>

    <div class="modal" id="CreateUserModal" tabindex="-1" role="dialog" aria-labelledby="CreateUserModalLabel" aria-hidden="true">
        <div class="modal-dialog  modal-dialog-centered" role="document" style="min-height:400px; min-width:30%;">
            <div class="modal-content">
                <div class="modal-header">
                    <div class="row">

                        <div class="col-md-10 col-xs-10">
                            <h4 class="form-label">Регистрация нового пользователя</h4>
                        </div>
                        <div class="col-md-2 col-xs-2">
                            <button type="button" class="close right" data-dismiss="modal" aria-label="Close">
                                <span aria-hidden="true">&times;</span>
                            </button>
                        </div>
                    </div>
                </div>
               
                <form name="registerForm" role="form">
                    <div class="modal-body">

                        <div class="form-group">
                            <div class="row">
                                <div class="col-md-12">
                                    <div class="error form-hint"
                                         data-ng-show="registerForm.email.$dirty && registerForm.email.$error.required"
                                         data-ng-cloak>
                                        {{"Нельзя оставить это поле пустым"}}
                                    </div>
                                    <div class="error form-hint"
                                         data-ng-show="registerForm.email.$dirty && registerForm.email.$error.email"
                                         data-ng-cloak>{{"Указанный вами адрес электронной почты недействителен"}}</div>

                                    <input type="email" class="form-control" name="email" placeholder="Email адрес"
                                           data-ng-class="(registerForm.email.$dirty && registerForm.email.$invalid) ? 'error' : ''"
                                           data-ng-required="true" data-ng-model="CreateUserForm.Email">
                                </div>
                            </div>
                        </div>

                        <div class="form-group">
                            <div class="row">
                                <div class="col-md-12">
                                    <div class="form-hint">
                                        Чтобы соответствовать нашей политике защиты паролей, используйте по крайней мере одну букву, одну цифру, один специальный символ и семь символов
                                    </div>

                                    <input type="text" class="form-control" data-ok-password-directive
                                           name="password" placeholder="Пароль" data-ng-required="true"
                                           data-ng-class="(registerForm.password.$dirty && registerForm.confirm.$dirty
			                            && registerForm.confirm.$valid &&
			                            ( registerForm.password.$viewValue != registerForm.confirm.$viewValue ) ) ? 'error' : ''"
                                           data-ng-model="CreateUserForm.Password">

                                    <div class="label password-count"
                                         data-ng-class="passwordModel.length > 7 ? 'label-success' : 'label-danger'"
                                         data-ng-cloak>{{ passwordModel | passwordCountFilter }}</div>

                                    <div class="strength-meter">
                                        <div class="strength-meter-fill" data-strength="{{myModulePasswordMeter}}"></div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="form-group">
                            <div class="row">
                                <div class="col-md-12">
                                    <div class="error form-hint"
                                         data-ng-show="registerForm.confirm.$dirty && !registerForm.confirm.$empty && registerForm.confirm.$error.required"
                                         data-ng-cloak>
                                        {{"Нельзя оставить это поле пустым"}}
                                    </div>
                                    <div class="error form-hint"
                                         data-ng-show="registerForm.confirm.$dirty && registerForm.confirm.$invalid && !registerForm.confirm.$error.required"
                                         data-ng-cloak>
                                        {{"Эти пароли не совпадают. Пробовать снова?"}}
                                    </div>

                                    <div class="error form-hint" data-ng-show="
			                    ( registerForm.password.$dirty && registerForm.password.$invalid && !(registerForm.password.$error.required || false))" data-ng-cloak>
                                        {{"Несоответствие пароля"}}
                                    </div>

                                    <input type="text" class="form-control" name="confirm"
                                           placeholder="Подтверждение пароля"
                                           data-ng-required="true" data-ng-model="CreateUserForm.confirm"
                                           data-ng-class="(registerForm.confirm.$dirty &&
			                            ( registerForm.confirm.$invalid ||
			                            ( registerForm.password.$modelValue != registerForm.confirm.$modelValue ) ) ) ? 'error' : ''"
                                           data-compare-to="registerForm.password">
                                </div>
                            </div>
                        </div>

                        <div class="form-group">
                            <div class="row">
                                <div class="col-md-4">
                                    <div class="error form-hint"
                                         data-ng-show="registerForm.firstname.$dirty && registerForm.firstname.$error.required"
                                         data-ng-cloak>
                                        {{"Это поле является обзательным"}}
                                    </div>
                                    <input type="text" class="form-control" name="Name" placeholder="Имя"
                                           data-ng-class="(registerForm.Name.$dirty && registerForm.Name.$invalid) ? 'error' : ''"
                                           data-ng-required="true" data-ng-model="CreateUserForm.Name">
                                </div>

                                <div class="col-md-4">
                                    <div class="error form-hint"
                                         data-ng-show="registerForm.lastname.$dirty && registerForm.lastname.$error.required"
                                         data-ng-cloak>
                                        {{"Это поле является обзательным"}}
                                    </div>
                                    <input type="text" class="form-control" name="SurName" placeholder="Фамилия"
                                           data-ng-class="(registerForm.SurName.$dirty && registerForm.SurName.$invalid) ? 'error' : ''"
                                           data-ng-required="true" data-ng-model="CreateUserForm.SurName">
                                </div>
                                <div class="col-md-4">
                                    <div class="error form-hint"
                                         data-ng-show="registerForm.lastname.$dirty && registerForm.lastname.$error.required"
                                         data-ng-cloak>
                                        {{"Это поле является обзательным"}}
                                    </div>
                                    <input type="text" class="form-control" name="Patronymic" placeholder="Отчество"
                                           data-ng-class="(registerForm.Patronymic.$dirty && registerForm.Patronymic.$invalid) ? 'error' : ''"
                                           data-ng-required="true" data-ng-model="CreateUserForm.Patronymic">
                                </div>

                            </div>
                        </div>
                        <div class="form-group">
                            <div class="row">
                                <div class="col-md-6 ">
                                    <label>Организация</label>
                                    <select name="SupplierId"
                                            class="form-control"
                                            ng-options="item.Id as item.Name for item in Suppliers"
                                            ng-required="true"
                                            ng-model="CreateUserForm.SupplierId"></select>
                                </div>

                                <div class="col-md-6">
                                    <label>Должность</label>
                                    <select name="PostId"
                                            class="form-control"
                                            ng-options="item.Id as item.Name for item in Posts"
                                            ng-model="CreateUserForm.PostId"></select>
                                </div>
                            </div>
                        </div>
                        <div class="form-group">
                            <div class="row">

                                <div class="col-md-6">
                                    <p class="input-group">
                                        <input id="Birthday"
                                               type="text"
                                               class="form-control"
                                               readonly
                                               uib-datepicker-popup="dd.MM.yyyy"
                                               ng-model="CreateUserForm.Birthday"
                                               is-open="popupBirthday.opened"
                                               placeholder="Дата рождения"
                                               datetimepicker-neutral-timezone
                                               close-text="Закрыть"
                                               datepicker-options="{minMode: 'day'}"
                                               datepicker-mode="'day'" />
                                        <span class="input-group-btn" style="vertical-align: bottom;">
                                            <button type="button" class="btn btn-default" ng-click="openPopupBirthday()"><i class="glyphicon glyphicon-calendar"></i></button>
                                        </span>
                                    </p>
                                </div>

                                <div class="col-md-6">
                                    <p class="input-group">
                                        <label>Доступ к API</label>
                                        <input type="checkbox" style="margin-left:5px;" ng-model="CreateUserForm.ApiEnabled" />
                                    </p>
                                </div>
                            </div>
                        </div>

                        <div class="form-group">
                            <div class="row">

                                <div class="col-md-12">
                                    <p class="input-group">
                                        <label ng-repeat="role in Roles" style="padding-right:5px;">
                                            <input type='checkbox'
                                                   name="Roles"
                                                   data-ng-class="checkedRoles.length == 0 ? 'ckeckbox-danger' : ''"
                                                   ng-checked="checkedRoles.indexOf(role) != -1"
                                                   ng-click="toggleCheck(role)">
                                            {{role}}
                                        </label>
                                    </p>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="modal-footer">
                        <button type="button" class="btn btn-success" ng-click="CreateUser()"
                                data-ng-disabled="!(!registerForm.$invalid && checkedRoles.length > 0) || ( registerForm.confirm.$dirty && registerForm.confirm.$valid && !registerForm.confirm.$invalid)
                                    && ( registerForm.password.$modelValue != registerForm.confirm.$modelValue )"
                                data-translate="BUTTONS.ADD" data-dismiss="modal"></button>
                        <button type="button" class="btn btn-secondary" data-translate="BUTTONS.CLOSE" data-dismiss="modal"></button>
                    </div>

                </form>

                <!--<form name="addForm">
        <div class="modal-body">
            <br />
            <div class="container-fluid" style="height: 400px;" title="">
                <div class="row">
                    <div class="col-md-4 padding3">
                        <label>Email</label>
                        <input type="text" ng-model="CreateUserForm.Email" class="form-control" placeholder="Email пользователя" value="" required style="width:100%">
                        <span class="text-error" data-ng-show="addForm.Email.$dirty && addForm.Email.$error.required">Email is required</span>
                    </div>


                    <div class="col-md-4 padding3">
                        <label>Пароль</label>
                        <input type="text" ng-model="CreateUserForm.Password" name="uPassword" class="form-control" required placeholder='Password' ng-minlength="6" ng-maxlength="15" title="6 to 15 characters" />
                        <span class="error" ng-show="addForm.uPassword.$dirty && addForm.uPassword.$error.minlength">Too short</span>
                        <span ng-show="addForm.uPassword.$dirty && addForm.uPassword.$error.required">Password required.</span><br />
                    </div>
                    <div class="col-md-4 padding3">
                        <input type="text" ng-model="CreateUserForm.ConfirmPassword" name="ucPassword" class="form-control" required placeholder='Confirm Password' ng-minlength="6" ng-maxlength="15" title="6 to 15 characters" />
                        <span class="error" ng-show="addForm.ucPassword.$dirty && addForm.ucPassword.$error.minlength">Too short</span>
                        <span ng-show="addForm.ucPassword.$dirty && addForm.ucPassword.$error.required">Retype password.</span>
                        <span ng-show="(addForm.uPassword.$dirty && addForm.ucPassword.$dirty) && (CreateUserForm.Password != CreateUserForm.ConfirmPassword)">
                            Password mismatched
                        </span>
                    </div>
                </div>

                <div class="row">
                    <div class="col-md-4 padding3">
                        <label>Имя</label>
                        <input type="text" ng-model="CreateUserForm.Name" class="form-control" placeholder="Имя" value="" style="width:100%">
                    </div>
                    <div class="col-md-4 padding3">
                        <label>Фамилия</label>
                        <input type="text" ng-model="CreateUserForm.SurName" class="form-control" placeholder="Фамилия" value="" style="width:100%">
                    </div>
                    <div class="col-md-4 padding3">
                        <label>Отчество</label>
                        <input type="text" ng-model="CreateUserForm.Patronymic" class="form-control" placeholder="Отчество" value="" style="width:100%">
                    </div>
                </div>
                

            </div>
        </div>

    </form>-->
            </div>
        </div>
    </div>














</div>
